{"ast":null,"code":"import { generateBase64FromImage } from \"./image\";\nexport const validate = (value, set, validators) => {\n  let valid = true;\n\n  for (const validator of validators) {\n    valid = valid && validator(value);\n  }\n\n  ;\n  set(prev => ({ ...prev,\n    value: value,\n    valid: valid\n  }));\n};\nexport const onChangeHanlder = (e, setInput, validators) => {\n  const value = e.target.value;\n  validate(value, setInput, validators);\n};\nexport const onBlurHandler = (e, setInput, validators) => {\n  const value = e.target.value;\n  validate(value, setInput, validators);\n  setInput(prev => ({ ...prev,\n    touched: true\n  }));\n};\nexport const onFileHandler = (e, setInput) => {\n  const files = e.target.files;\n  let imagePreview = [];\n\n  for (const file of files) {\n    generateBase64FromImage(file).then(b64 => {\n      imagePreview.push(b64);\n    }).catch(err => console.log(err));\n  }\n\n  setInput(prev => ({ ...prev,\n    value: files,\n    imagePreview: imagePreview\n  }));\n};\nexport const validRequire = value => value.trim() !== '';\nexport const validLength = config => value => {\n  let isValid = true;\n\n  if (config.min) {\n    isValid = isValid && value.toString().trim().length >= config.min;\n  }\n\n  if (config.max) {\n    isValid = isValid && value.toString().trim().length <= config.max;\n  }\n\n  return isValid;\n}; // export const validEmail = value => {\n//   /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(\n//     value\n//   );\n// };\n\nexport const validEmail = value => value.includes('@');\nexport const validSelect = config => value => {\n  let isValid = true;\n\n  if (config.defaultSelect) {\n    isValid = isValid && value !== config.defaultSelect;\n  }\n\n  return isValid;\n};\nexport const validNumber = config => value => {\n  let isValid = true;\n\n  if (config.min) {\n    isValid = isValid && +value >= config.min;\n  }\n\n  if (config.max) {\n    isValid = isValid && +value <= config.max;\n  }\n\n  return isValid;\n};\nexport const valid = config => value => {\n  let isValid = true;\n  isValid = isValid && config.type;\n  return isValid;\n};","map":{"version":3,"sources":["D:/funix/NJS301x_1.0-A_VN Lập trình Web Back-End với NodeJS/assignment 03/Frontend Assignemnt 03 Admin App/src/util/validators.js"],"names":["generateBase64FromImage","validate","value","set","validators","valid","validator","prev","onChangeHanlder","e","setInput","target","onBlurHandler","touched","onFileHandler","files","imagePreview","file","then","b64","push","catch","err","console","log","validRequire","trim","validLength","config","isValid","min","toString","length","max","validEmail","includes","validSelect","defaultSelect","validNumber","type"],"mappings":"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","sourcesContent":["import { generateBase64FromImage } from \"./image\";\r\n\r\nexport const validate = (value, set, validators) => {\r\n  let valid = true;\r\n  for(const validator of validators) {\r\n    valid = valid && validator(value);\r\n  };\r\n  set(prev => ({\r\n    ...prev,\r\n    value: value,\r\n    valid: valid\r\n  }));\r\n};\r\n\r\nexport const onChangeHanlder = (e, setInput, validators) => {\r\n  const value = e.target.value;\r\n  validate(value, setInput, validators);\r\n};\r\n\r\nexport const onBlurHandler = (e, setInput, validators) => {\r\n  const value = e.target.value;\r\n  validate(value, setInput, validators);\r\n  setInput(prev => ({\r\n    ...prev,\r\n    touched: true\r\n  }));\r\n};\r\n\r\nexport const onFileHandler = (e, setInput) => {\r\n  const files = e.target.files;\r\n  let imagePreview = [];\r\n  for(const file of files) {\r\n    generateBase64FromImage(file)\r\n      .then(b64 => {\r\n        imagePreview.push(b64);\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n  setInput(prev => ({\r\n    ...prev,\r\n    value: files,\r\n    imagePreview: imagePreview\r\n  }))\r\n}\r\n\r\nexport const validRequire = value => value.trim() !== '';\r\n\r\nexport const validLength = config => value => {\r\n  let isValid = true;\r\n  if(config.min) {\r\n    isValid = isValid && value.toString().trim().length >= config.min;\r\n  }\r\n  if(config.max) {\r\n    isValid = isValid && value.toString().trim().length <= config.max;\r\n  }\r\n  return isValid;\r\n};\r\n\r\n// export const validEmail = value => {\r\n//   /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(\r\n//     value\r\n//   );\r\n// };\r\n\r\nexport const validEmail = value => value.includes('@');\r\n\r\nexport const validSelect = config => value => {\r\n  let isValid = true;\r\n  if(config.defaultSelect) {\r\n    isValid = isValid && value !== config.defaultSelect;\r\n  }\r\n  return isValid;\r\n};\r\n\r\nexport const validNumber = config => value => {\r\n  let isValid = true;\r\n  if(config.min) {\r\n    isValid = isValid && +value >= config.min;\r\n  }\r\n  if(config.max) {\r\n    isValid = isValid && +value <= config.max;\r\n  }\r\n  return isValid;\r\n};\r\n\r\nexport const valid = config => value => {\r\n  let isValid = true;\r\n  isValid = isValid && config.type;\r\n  return isValid;\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}