{"ast":null,"code":"import _objectSpread from\"D:/funix/NJS301x_1.0-A_VN L\\u1EADp tr\\xECnh Web Back-End v\\u1EDBi NodeJS/assignment 03/Frontend Assignemnt 03 Admin App/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _createForOfIteratorHelper from\"D:/funix/NJS301x_1.0-A_VN L\\u1EADp tr\\xECnh Web Back-End v\\u1EDBi NodeJS/assignment 03/Frontend Assignemnt 03 Admin App/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import{generateBase64FromImage}from\"./image\";export var validate=function validate(value,setInput,validators){var valid=true;var _iterator=_createForOfIteratorHelper(validators),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var validator=_step.value;valid=valid&&validator(value);}}catch(err){_iterator.e(err);}finally{_iterator.f();};setInput(function(prev){return _objectSpread(_objectSpread({},prev),{},{value:value,valid:valid});});};export var onChangeHanlder=function onChangeHanlder(e,setInput,validators){var value=e.target.value;validate(value,setInput,validators);};export var onBlurHandler=function onBlurHandler(e,setInput,validators){var value=e.target.value;validate(value,setInput,validators);setInput(function(prev){return _objectSpread(_objectSpread({},prev),{},{touched:true});});};export var onFileHandler=function onFileHandler(e,setInput){var files=e.target.files;var imagePreview=[];var _iterator2=_createForOfIteratorHelper(files),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var file=_step2.value;generateBase64FromImage(file).then(function(b64){imagePreview.push(b64);}).catch(function(err){return console.log(err);});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}setInput(function(prev){return _objectSpread(_objectSpread({},prev),{},{value:files,imagePreview:imagePreview});});};export var validRequire=function validRequire(value){return value.trim()!=='';};export var validLength=function validLength(config){return function(value){var isValid=true;if(config.min){isValid=isValid&&value.toString().trim().length>=config.min;}if(config.max){isValid=isValid&&value.toString().trim().length<=config.max;}return isValid;};};// export const validEmail = value => {\n//   /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(\n//     value\n//   );\n// };\nexport var validEmail=function validEmail(value){return value.includes('@');};export var validSelect=function validSelect(config){return function(value){var isValid=true;if(config.defaultSelect){isValid=isValid&&value!==config.defaultSelect;}return isValid;};};export var validNumber=function validNumber(config){return function(value){var isValid=true;if(config.min){isValid=isValid&&+value>=config.min;}if(config.max){isValid=isValid&&+value<=config.max;}return isValid;};};export var valid=function valid(config){return function(value){var isValid=true;isValid=isValid&&config.type;return isValid;};};","map":{"version":3,"sources":["D:/funix/NJS301x_1.0-A_VN Lập trình Web Back-End với NodeJS/assignment 03/Frontend Assignemnt 03 Admin App/src/util/validators.js"],"names":["generateBase64FromImage","validate","value","setInput","validators","valid","validator","prev","onChangeHanlder","e","target","onBlurHandler","touched","onFileHandler","files","imagePreview","file","then","b64","push","catch","err","console","log","validRequire","trim","validLength","config","isValid","min","toString","length","max","validEmail","includes","validSelect","defaultSelect","validNumber","type"],"mappings":"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","sourcesContent":["import { generateBase64FromImage } from \"./image\";\r\n\r\nexport const validate = (value, setInput, validators) => {\r\n  let valid = true;\r\n  for(const validator of validators) {\r\n    valid = valid && validator(value);\r\n  };\r\n  setInput(prev => ({\r\n    ...prev,\r\n    value: value,\r\n    valid: valid\r\n  }));\r\n};\r\n\r\nexport const onChangeHanlder = (e, setInput, validators) => {\r\n  const value = e.target.value;\r\n  validate(value, setInput, validators);\r\n};\r\n\r\nexport const onBlurHandler = (e, setInput, validators) => {\r\n  const value = e.target.value;\r\n  validate(value, setInput, validators);\r\n  setInput(prev => ({\r\n    ...prev,\r\n    touched: true\r\n  }));\r\n};\r\n\r\nexport const onFileHandler = (e, setInput) => {\r\n  const files = e.target.files;\r\n  let imagePreview = [];\r\n  for(const file of files) {\r\n    generateBase64FromImage(file)\r\n      .then(b64 => {\r\n        imagePreview.push(b64);\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n  setInput(prev => ({\r\n    ...prev,\r\n    value: files,\r\n    imagePreview: imagePreview\r\n  }))\r\n}\r\n\r\nexport const validRequire = value => value.trim() !== '';\r\n\r\nexport const validLength = config => value => {\r\n  let isValid = true;\r\n  if(config.min) {\r\n    isValid = isValid && value.toString().trim().length >= config.min;\r\n  }\r\n  if(config.max) {\r\n    isValid = isValid && value.toString().trim().length <= config.max;\r\n  }\r\n  return isValid;\r\n};\r\n\r\n// export const validEmail = value => {\r\n//   /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(\r\n//     value\r\n//   );\r\n// };\r\n\r\nexport const validEmail = value => value.includes('@');\r\n\r\nexport const validSelect = config => value => {\r\n  let isValid = true;\r\n  if(config.defaultSelect) {\r\n    isValid = isValid && value !== config.defaultSelect;\r\n  }\r\n  return isValid;\r\n};\r\n\r\nexport const validNumber = config => value => {\r\n  let isValid = true;\r\n  if(config.min) {\r\n    isValid = isValid && +value >= config.min;\r\n  }\r\n  if(config.max) {\r\n    isValid = isValid && +value <= config.max;\r\n  }\r\n  return isValid;\r\n};\r\n\r\nexport const valid = config => value => {\r\n  let isValid = true;\r\n  isValid = isValid && config.type;\r\n  return isValid;\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}