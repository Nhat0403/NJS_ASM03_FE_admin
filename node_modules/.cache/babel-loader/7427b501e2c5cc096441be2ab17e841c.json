{"ast":null,"code":"import _slicedToArray from\"D:/funix/NJS301x_1.0-A_VN L\\u1EADp tr\\xECnh Web Back-End v\\u1EDBi NodeJS/assignment 03/Frontend Assignemnt 03 Admin App/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./ProductList.css';import{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import ErrorModal from'../UI/ErrorModal';import Card from'../UI/Card';import ProductAPI from'../../API/ProductAPI';import queryString from'query-string';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductList=function ProductList(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchQuery=_useState4[0],setSearchQuery=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),products=_useState6[0],setProducts=_useState6[1];var idUser=localStorage.getItem('id_user');var navigate=useNavigate();useEffect(function(){var params={idUser:idUser};var query='?'+queryString.stringify(params);ProductAPI.getAllProducts(query).then(function(res){console.log(res);setProducts(res);});},[]);useEffect(function(){var params={idUser:idUser,searchQuery:searchQuery};var query='?'+queryString.stringify(params);ProductAPI.searchProductByQuery(query).then(function(res){console.log(res);setProducts(res);});},[searchQuery]);console.log(searchQuery);var deleteHandler=function deleteHandler(e){e.preventDefault();};var deleteProduct=function deleteProduct(){setError(null);};var errorHandler=function errorHandler(){setError(null);};var addNewHandler=function addNewHandler(e){e.preventDefault();navigate('/product/add-product');};var editHandler=function editHandler(e){e.preventDefault();};return/*#__PURE__*/_jsxs(\"div\",{className:\"listContainer\",children:[error&&/*#__PURE__*/_jsx(ErrorModal,{title:error.title,message:error.message,onDelete:deleteProduct,onConfirm:errorHandler,onCancel:errorHandler,isDelete:error.isDelete,showOkay:error.showOkay}),/*#__PURE__*/_jsxs(Card,{className:\"listCard tstCard\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"listTitle tstTitle\",style:{display:'flex',justifyContent:'space-between'},children:/*#__PURE__*/_jsx(\"div\",{children:\"product list\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"productList flex\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"search\",id:\"searchProduct\",placeholder:\"Enter Search!\",required:true,onChange:function onChange(e){return setSearchQuery(e.target.value);},onBlur:function onBlur(e){return setSearchQuery(e.target.value);},value:searchQuery,className:\"searchInput\"}),/*#__PURE__*/_jsx(\"button\",{className:\"plBtn edit\",onClick:addNewHandler,children:\"Add New\"})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"all\",id:\"tstAll\"})})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"div\",{children:\"ID\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"div\",{children:\"Name\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"div\",{children:\"Price\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"div\",{children:\"Image\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"div\",{children:\"Category\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"div\",{children:\"Action\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"div\",{children:\"Action\"})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products&&products.map(function(i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\"})}),/*#__PURE__*/_jsx(\"td\",{children:i._id}),/*#__PURE__*/_jsx(\"td\",{children:i.name}),/*#__PURE__*/_jsx(\"td\",{children:i.price}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:i.img1,alt:\"...\",width:\"100%\"})}),/*#__PURE__*/_jsx(\"td\",{children:i.category}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{id:i._id,className:\"update action-btn\",onClick:editHandler,children:\"Update\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{id:i._id,className:\"delete action-btn\",onClick:deleteHandler,children:\"Delete\"})})]},i._id);})})]})]})]});};export default ProductList;","map":{"version":3,"sources":["D:/funix/NJS301x_1.0-A_VN Lập trình Web Back-End với NodeJS/assignment 03/Frontend Assignemnt 03 Admin App/src/components/ProductList/ProductList.jsx"],"names":["useEffect","useState","useNavigate","ErrorModal","Card","ProductAPI","queryString","ProductList","error","setError","searchQuery","setSearchQuery","products","setProducts","idUser","localStorage","getItem","navigate","params","query","stringify","getAllProducts","then","res","console","log","searchProductByQuery","deleteHandler","e","preventDefault","deleteProduct","errorHandler","addNewHandler","editHandler","title","message","isDelete","showOkay","display","justifyContent","target","value","map","i","_id","name","price","img1","category"],"mappings":"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","sourcesContent":["import './ProductList.css';\r\nimport { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport ErrorModal from '../UI/ErrorModal';\r\nimport Card from '../UI/Card';\r\nimport ProductAPI from '../../API/ProductAPI';\r\nimport queryString from 'query-string';\r\n\r\nconst ProductList = () => {\r\n  const [error, setError] = useState();\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [products, setProducts] = useState([]);\r\n  const idUser = localStorage.getItem('id_user');\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const params = {\r\n      idUser: idUser\r\n    }\r\n    const query = '?' + queryString.stringify(params);\r\n    ProductAPI.getAllProducts(query)\r\n      .then(res => {\r\n        console.log(res);\r\n        setProducts(res);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const params = {\r\n      idUser: idUser,\r\n      searchQuery: searchQuery\r\n    }\r\n    const query = '?' + queryString.stringify(params);\r\n    ProductAPI.searchProductByQuery(query)\r\n      .then(res => {\r\n        console.log(res);\r\n        setProducts(res);\r\n      });\r\n  }, [searchQuery]);\r\n\r\n  console.log(searchQuery);\r\n\r\n  const deleteHandler = (e) => {\r\n    e.preventDefault();\r\n  }\r\n\r\n  const deleteProduct = () => {\r\n    setError(null);\r\n  };\r\n\r\n  const errorHandler = () => {\r\n    setError(null);\r\n  };\r\n  \r\n  const addNewHandler = (e) => {\r\n    e.preventDefault();\r\n    navigate('/product/add-product');\r\n  }\r\n\r\n  const editHandler = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <div className=\"listContainer\">\r\n      {error && (\r\n        <ErrorModal\r\n          title={error.title}\r\n          message={error.message}\r\n          onDelete={deleteProduct}\r\n          onConfirm={errorHandler}\r\n          onCancel={errorHandler}\r\n          isDelete={error.isDelete}\r\n          showOkay={error.showOkay}\r\n        />\r\n      )}\r\n      <Card className=\"listCard tstCard\">\r\n        <div className=\"listTitle tstTitle\" style={{display: 'flex', justifyContent: 'space-between'}}>\r\n          <div>product list</div>\r\n        </div>\r\n        <div className=\"productList flex\">\r\n          <input \r\n            type='search'\r\n            id='searchProduct'\r\n            placeholder='Enter Search!'\r\n            required={true}\r\n            onChange={e => setSearchQuery(e.target.value)}\r\n            onBlur={e => setSearchQuery(e.target.value)}\r\n            value={searchQuery}\r\n            className='searchInput'\r\n          />\r\n          <button className=\"plBtn edit\" onClick={addNewHandler}>Add New</button>\r\n        </div>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>\r\n                <div>\r\n                  <input type=\"checkbox\" name=\"all\" id=\"tstAll\" />\r\n                </div>\r\n              </th>\r\n              <th>\r\n                <div>ID</div>\r\n              </th>\r\n              <th>\r\n                <div>Name</div>\r\n              </th>\r\n              <th>\r\n                <div>Price</div>\r\n              </th>\r\n              <th>\r\n                <div>Image</div>\r\n              </th>\r\n              <th>\r\n                <div>Category</div>\r\n              </th>\r\n              <th>\r\n                <div>Action</div>\r\n              </th>\r\n              <th>\r\n                <div>Action</div>\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {products && products.map(i => \r\n              <tr key={i._id}>\r\n                <td>\r\n                  <input type=\"checkbox\" />\r\n                </td>\r\n                <td>{i._id}</td>\r\n                <td>{i.name}</td>\r\n                <td>{i.price}</td>\r\n                <td>\r\n                  <img src={i.img1} alt=\"...\" width=\"100%\"/>\r\n                </td>\r\n                <td>{i.category}</td>\r\n                <td>\r\n                  <button \r\n                    id={i._id}\r\n                    className=\"update action-btn\"\r\n                    onClick={editHandler}\r\n                  >Update</button>\r\n                </td>\r\n                <td>\r\n                  <button \r\n                    id={i._id}\r\n                    className=\"delete action-btn\"\r\n                    onClick={deleteHandler}\r\n                  >Delete</button>\r\n                </td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductList;"]},"metadata":{},"sourceType":"module"}