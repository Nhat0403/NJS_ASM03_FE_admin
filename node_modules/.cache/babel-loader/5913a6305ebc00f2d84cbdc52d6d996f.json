{"ast":null,"code":"import _slicedToArray from\"D:/funix/NJS301x_1.0-A_VN L\\u1EADp tr\\xECnh Web Back-End v\\u1EDBi NodeJS/assignment 03/Frontend Assignemnt 03 Admin App/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./DashBoard.css';import{useEffect,useState}from'react';import{NavLink,useNavigate}from'react-router-dom';import ErrorModal from'../UI/ErrorModal';import Card from'../UI/Card';import OrderAPI from'../../API/OrderAPI';import UserAPI from'../../API/UserAPI';import queryString from'query-string';import convertMoney from'../../convertMoney';import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faDollar,faFile,faUser}from\"@fortawesome/free-solid-svg-icons\";import alertify from'alertifyjs';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DashBoard=function DashBoard(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),users=_useState4[0],setUsers=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),orders=_useState6[0],setOrders=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),earningThisMonth=_useState8[0],setEarningThisMonth=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),newOrders=_useState10[0],setNewOrders=_useState10[1];var idUser=localStorage.getItem('id_user');var params={idUser:idUser};var query='?'+queryString.stringify(params);useEffect(function(){OrderAPI.getAllOrders(query).then(function(res){// console.log(res);\nsetOrders(res.orders);setEarningThisMonth(res.earningThisMonth);setNewOrders(res.newOrders.length);}).catch(function(err){return console.log(err);});},[]);useEffect(function(){UserAPI.getAllClients(query).then(function(res){// console.log(res);\nsetUsers(res);}).catch(function(err){return console.log(err);});},[]);var viewHandler=function viewHandler(e){e.preventDefault();};var errorHandler=function errorHandler(e){e.preventDefault();};return/*#__PURE__*/_jsxs(\"div\",{className:\"listContainer\",children:[error&&/*#__PURE__*/_jsx(ErrorModal,{title:error.title,message:error.message,onConfirm:errorHandler,onCancel:errorHandler,isDelete:error.isDelete,showOkay:error.showOkay}),/*#__PURE__*/_jsxs(Card,{className:\"listCard tstCard dashboard\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Dash Board\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid dbContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dbItem flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dbInfo flex-column\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dbTitle\",children:users.length}),/*#__PURE__*/_jsx(\"div\",{className:\"dbText\",children:\"Clients\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dbIcon\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faUser,className:\"sbIcon\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dbItem flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dbInfo flex-column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dbTitle earning\",children:[convertMoney(earningThisMonth),/*#__PURE__*/_jsx(\"sup\",{children:\"  VND\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dbText\",children:\"Earnings of Month\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dbIcon\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faDollar,className:\"sbIcon\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dbItem flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dbInfo flex-column\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dbTitle\",children:newOrders}),/*#__PURE__*/_jsx(\"div\",{className:\"dbText\",children:\"New Order\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dbIcon\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faFile,className:\"sbIcon\"})})]})]}),/*#__PURE__*/_jsx(\"h1\",{children:\"History\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"all\",id:\"tstAll\"})})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"div\",{children:\"ID User\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"div\",{children:\"Name\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"div\",{children:\"Phone\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"div\",{children:\"Address\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"div\",{children:\"Total\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"div\",{children:\"Delivery\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"div\",{children:\"Status\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"div\",{children:\"Detail\"})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders&&orders.map(function(i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\"})}),/*#__PURE__*/_jsx(\"td\",{children:i.userId}),/*#__PURE__*/_jsx(\"td\",{children:i.fullname}),/*#__PURE__*/_jsx(\"td\",{children:i.phone}),/*#__PURE__*/_jsx(\"td\",{children:i.address}),/*#__PURE__*/_jsx(\"td\",{children:convertMoney(i.total)}),/*#__PURE__*/_jsx(\"td\",{children:i.delivery||'ok'}),/*#__PURE__*/_jsx(\"td\",{children:i.status||'ok'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{id:i._id,className:\"update action-btn\",onClick:viewHandler,children:\"View\"})})]},i._id);})})]})]})]});};export default DashBoard;","map":{"version":3,"sources":["D:/funix/NJS301x_1.0-A_VN Lập trình Web Back-End với NodeJS/assignment 03/Frontend Assignemnt 03 Admin App/src/components/dashboard/DashBoard.jsx"],"names":["useEffect","useState","NavLink","useNavigate","ErrorModal","Card","OrderAPI","UserAPI","queryString","convertMoney","FontAwesomeIcon","faDollar","faFile","faUser","alertify","DashBoard","error","setError","users","setUsers","orders","setOrders","earningThisMonth","setEarningThisMonth","newOrders","setNewOrders","idUser","localStorage","getItem","params","query","stringify","getAllOrders","then","res","length","catch","err","console","log","getAllClients","viewHandler","e","preventDefault","errorHandler","title","message","isDelete","showOkay","map","i","userId","fullname","phone","address","total","delivery","status","_id"],"mappings":"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","sourcesContent":["import './DashBoard.css';\r\nimport { useEffect, useState } from 'react';\r\nimport { NavLink, useNavigate } from 'react-router-dom';\r\nimport ErrorModal from '../UI/ErrorModal';\r\nimport Card from '../UI/Card';\r\nimport OrderAPI from '../../API/OrderAPI';\r\nimport UserAPI from '../../API/UserAPI';\r\nimport queryString from 'query-string';\r\nimport convertMoney from '../../convertMoney';\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faDollar,\r\n  faFile,\r\n  faUser,\r\n  \r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport alertify from 'alertifyjs';\r\n\r\nconst DashBoard = () => {\r\n  const [error, setError] = useState();\r\n  const [users, setUsers] = useState([]);\r\n  const [orders, setOrders] = useState([]);\r\n  const [earningThisMonth, setEarningThisMonth] = useState(0);\r\n  const [newOrders, setNewOrders] = useState([]);\r\n  const idUser = localStorage.getItem('id_user');\r\n\r\n  const params = {\r\n    idUser: idUser\r\n  }\r\n  const query = '?' + queryString.stringify(params);\r\n\r\n  useEffect(() => {\r\n    OrderAPI.getAllOrders(query)\r\n      .then(res => {\r\n        // console.log(res);\r\n        setOrders(res.orders);\r\n        setEarningThisMonth(res.earningThisMonth);\r\n        setNewOrders(res.newOrders.length);\r\n      })\r\n      .catch(err => console.log(err));\r\n    }, []);\r\n    \r\n  useEffect(() => {\r\n    UserAPI.getAllClients(query)\r\n      .then(res => {\r\n        // console.log(res);\r\n        setUsers(res);\r\n      })\r\n      .catch(err => console.log(err));\r\n  }, []);\r\n\r\n  const viewHandler = e => {\r\n    e.preventDefault();\r\n  }\r\n\r\n  const errorHandler = e => {\r\n    e.preventDefault();\r\n  }\r\n\r\n  return (\r\n    <div className=\"listContainer\">\r\n      {error && (\r\n        <ErrorModal\r\n          title={error.title}\r\n          message={error.message}\r\n          onConfirm={errorHandler}\r\n          onCancel={errorHandler}\r\n          isDelete={error.isDelete}\r\n          showOkay={error.showOkay}\r\n        />\r\n      )}\r\n      <Card className=\"listCard tstCard dashboard\">\r\n        <div>Dash Board</div>\r\n        <div className=\"grid dbContainer\">\r\n          <div className=\"dbItem flex\">\r\n            <div className=\"dbInfo flex-column\">\r\n              <div className=\"dbTitle\">{users.length}</div>\r\n              <div className=\"dbText\">Clients</div>\r\n            </div>\r\n            <div className=\"dbIcon\">\r\n              <FontAwesomeIcon icon={faUser} className=\"sbIcon\" />\r\n            </div>\r\n          </div>\r\n          <div className=\"dbItem flex\">\r\n            <div className=\"dbInfo flex-column\">\r\n              <div className=\"dbTitle earning\">\r\n                {convertMoney(earningThisMonth)}\r\n                <sup>  VND</sup>\r\n              </div>\r\n              <div className=\"dbText\">Earnings of Month</div>\r\n            </div>\r\n            <div className=\"dbIcon\">\r\n              <FontAwesomeIcon icon={faDollar} className=\"sbIcon\" />\r\n            </div>\r\n          </div>\r\n          <div className=\"dbItem flex\">\r\n            <div className=\"dbInfo flex-column\">\r\n              <div className=\"dbTitle\">{newOrders}</div>\r\n              <div className=\"dbText\">New Order</div>\r\n            </div>\r\n            <div className=\"dbIcon\">\r\n              <FontAwesomeIcon icon={faFile} className=\"sbIcon\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <h1>History</h1>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>\r\n                <div>\r\n                  <input type=\"checkbox\" name=\"all\" id=\"tstAll\" />\r\n                </div>\r\n              </th>\r\n              <th>\r\n                <div>ID User</div>\r\n              </th>\r\n              <th>\r\n                <div>Name</div>\r\n              </th>\r\n              <th>\r\n                <div>Phone</div>\r\n              </th>\r\n              <th>\r\n                <div>Address</div>\r\n              </th>\r\n              <th>\r\n                <div>Total</div>\r\n              </th>\r\n              <th>\r\n                <div>Delivery</div>\r\n              </th>\r\n              <th>\r\n                <div>Status</div>\r\n              </th>\r\n              <th>\r\n                <div>Detail</div>\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {orders && orders.map(i => \r\n              <tr key={i._id}>\r\n                <td>\r\n                  <input type=\"checkbox\" />\r\n                </td>\r\n                <td>{i.userId}</td>\r\n                <td>{i.fullname}</td>\r\n                <td>{i.phone}</td>\r\n                <td>{i.address}</td>\r\n                <td>{convertMoney(i.total)}</td>\r\n                <td>{i.delivery || 'ok'}</td>\r\n                <td>{i.status || 'ok'}</td>\r\n                <td>\r\n                  <button \r\n                    id={i._id}\r\n                    className=\"update action-btn\"\r\n                    onClick={viewHandler}\r\n                  >View</button>\r\n                </td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashBoard;"]},"metadata":{},"sourceType":"module"}